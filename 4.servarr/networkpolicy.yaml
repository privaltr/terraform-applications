# apiVersion: v1
# kind: Service
# metadata:
#   name: ak-outpost-outpost
#   annotations:
#     argocd.argoproj.io/sync-wave: "1"
# spec:
#   type: ExternalName
#   externalName: ak-outpost-outpost.authentik.svc.cluster.local
#   ports:
#     - port: 9000
#       targetPort: 9000
#       protocol: TCP
# ---
# apiVersion: networking.k8s.io/v1
# kind: NetworkPolicy
# metadata:
#   name: qbittorrent-egress-vpn-only
# spec:
#   podSelector:
#     matchLabels:
#       app: qbittorrent
#   policyTypes:
#   - Egress
#   egress:
#   # Allow DNS resolution
#   - to:
#     - namespaceSelector: {}
#     ports:
#     - port: 53
#       protocol: UDP
#     - port: 53
#       protocol: TCP
  
#   # Allow connections to VPN gateway (for routing all other traffic)
#   - to:
#     - podSelector:
#         matchLabels:
#           app: vpn-gateway
  
#   # Allow internal cluster communications
#   - to:
#     - namespaceSelector: {}
#     ports:
#     - port: 443
#       protocol: TCP
#     - port: 80
#       protocol: TCP
#     - port: 8080
#       protocol: TCP
  
#   # Block all other egress traffic